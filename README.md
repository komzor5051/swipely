<<<<<<< HEAD
<div align="center">
<img width="1200" height="475" alt="GHBanner" src="https://github.com/user-attachments/assets/0aa67016-6eaf-458a-adb2-6e31a0763ed6" />
</div>

# Run and deploy your AI Studio app

This contains everything you need to run your app locally.

View your app in AI Studio: https://ai.studio/apps/drive/1BcJhV8yfjbnOxG9khEQNHm3pQXEe2N42

## Run Locally

**Prerequisites:**  Node.js


1. Install dependencies:
   `npm install`
2. Set the `GEMINI_API_KEY` in [.env.local](.env.local) to your Gemini API key
3. Run the app:
   `npm run dev`
=======
# ðŸ¤– Swipely Telegram Bot

Telegram-Ð±Ð¾Ñ‚ Ð´Ð»Ñ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸ Ð²Ñ‹ÑÐ¾ÐºÐ¾ÐºÐ°Ñ‡ÐµÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ñ… ÐºÐ°Ñ€ÑƒÑÐµÐ»ÐµÐ¹ Ð¸Ð· Ð³Ð¾Ð»Ð¾ÑÐ° Ð¸Ð»Ð¸ Ñ‚ÐµÐºÑÑ‚Ð° Ñ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼ AI.

## ðŸŽ¯ Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸

- **Ð¢ÐµÐºÑÑ‚Ð¾Ð²Ñ‹Ð¹ Ð²Ð²Ð¾Ð´**: ÐŸÑ€ÑÐ¼Ð¾Ð¹ Ð²Ð²Ð¾Ð´ Ñ‚ÐµÐºÑÑ‚Ð° âœ…
- **Ð“Ð¾Ð»Ð¾ÑÐ¾Ð²Ð¾Ð¹ Ð²Ð²Ð¾Ð´**: Ð¢Ñ€Ð°Ð½ÑÐºÑ€Ð¸Ð±Ð°Ñ†Ð¸Ñ Ñ‡ÐµÑ€ÐµÐ· Whisper API (Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾)
- **3 Ð´Ð¸Ð·Ð°Ð¹Ð½-Ð¿Ñ€ÐµÑÐµÑ‚Ð°**:
  - ðŸŒ¸ **Minimal Pop** - Ð¼Ð¸Ð½Ð¸Ð¼Ð°Ð»Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ñ‹Ð¹ ÑÑ‚Ð¸Ð»ÑŒ Ñ Ñ€Ð¾Ð·Ð¾Ð²Ñ‹Ð¼Ð¸ Ð°ÐºÑ†ÐµÐ½Ñ‚Ð°Ð¼Ð¸ âœ…
  - ðŸ““ **Notebook Sketch** - ÑÑ‚Ð¸Ð»ÑŒ Ð±Ð»Ð¾ÐºÐ½Ð¾Ñ‚Ð° Ñ ÑÐµÑ‚ÐºÐ¾Ð¹ (Ð² Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐµ)
  - ðŸŒ‘ **Darkest Hour** - Ñ‚ÐµÐ¼Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÑÑ‚Ð¸Ð»ÑŒ (Ð² Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐµ)
- **AI-Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ð°**: Claude 3.5 Haiku Ñ‡ÐµÑ€ÐµÐ· OpenRouter âœ…
- **ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ñ€ÐµÐ½Ð´ÐµÑ€Ð¸Ð½Ð³**: HTML â†’ PNG Ñ‡ÐµÑ€ÐµÐ· Puppeteer âœ…
- **Ð›Ð¸Ð¼Ð¸Ñ‚Ñ‹ Ð¸ Ð¼Ð¾Ð½ÐµÑ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ**: 2 Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ñ‹Ðµ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸/Ð½ÐµÐ´ÐµÐ»ÑŽ âœ…

## ðŸ“‹ Ð¢Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ

### ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾:
- Node.js 16+
- npm Ð¸Ð»Ð¸ yarn
- **OpenRouter API ÐºÐ»ÑŽÑ‡** (Ð´Ð»Ñ Claude) - ÐžÐ‘Ð¯Ð—ÐÐ¢Ð•Ð›Ð¬ÐÐž
- Telegram Bot Token (ÑƒÐ¶Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½)

### ÐžÐ¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ð¾:
- OpenAI API ÐºÐ»ÑŽÑ‡ (Ð´Ð»Ñ Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ð¾Ð³Ð¾ Ð²Ð²Ð¾Ð´Ð°) - ÐµÑÐ»Ð¸ Ð½ÐµÑ‚, Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ Ñ‚ÐµÐºÑÑ‚Ð¾Ð¼

## âš¡ Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚ (3 ÑˆÐ°Ð³Ð°)

### ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ð°Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð´Ð»Ñ Ñ‚ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ:

1. **Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸:**
   ```bash
   cd swipely-bot
   npm install
   ```

2. **Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ OpenRouter ÐºÐ»ÑŽÑ‡ Ð² `.env`:**
   ```bash
   OPENROUTER_API_KEY=sk-or-v1-Ð²Ð°Ñˆ_ÐºÐ»ÑŽÑ‡_Ð·Ð´ÐµÑÑŒ
   ```
   (ÐŸÐ¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ Ð½Ð° https://openrouter.ai/)

3. **Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ:**
   ```bash
   npm run dev
   ```

Ð“Ð¾Ñ‚Ð¾Ð²Ð¾! Ð‘Ð¾Ñ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ Ñ‚ÐµÐºÑÑ‚Ð¾Ð²Ñ‹Ð¼ Ð²Ð²Ð¾Ð´Ð¾Ð¼ âœ…

---

## ðŸš€ ÐŸÐ¾Ð»Ð½Ð°Ñ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°

### 1. ÐšÐ»Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¸ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ° Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚ÐµÐ¹

```bash
cd swipely-bot
npm install
```

### 2. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ

Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ `.env.example` Ð² `.env`:

```bash
cp .env.example .env
```

Ð—Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð¾ÐºÑ€ÑƒÐ¶ÐµÐ½Ð¸Ñ Ð² `.env`:

```env
# Telegram Bot Token
TELEGRAM_BOT_TOKEN=your_bot_token_here

# OpenRouter API Ð´Ð»Ñ Claude (ÐžÐ‘Ð¯Ð—ÐÐ¢Ð•Ð›Ð¬ÐÐž)
OPENROUTER_API_KEY=your_openrouter_key_here

# OpenAI API Ð´Ð»Ñ Whisper (ÐžÐŸÐ¦Ð˜ÐžÐÐÐ›Ð¬ÐÐž)
# ÐžÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Ð¿ÑƒÑÑ‚Ñ‹Ð¼ ÐµÑÐ»Ð¸ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ Ñ‚ÐµÐºÑÑ‚Ð¾Ð¼
OPENAI_API_KEY=

# Supabase (Ð´Ð»Ñ production)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_service_role_key_here
```

#### Ð“Ð´Ðµ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ API ÐºÐ»ÑŽÑ‡Ð¸:

**OpenRouter API** (ÐžÐ‘Ð¯Ð—ÐÐ¢Ð•Ð›Ð¬ÐÐž - Ð´Ð»Ñ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ð°):
1. Ð—Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€ÑƒÐ¹Ñ‚ÐµÑÑŒ Ð½Ð° https://openrouter.ai/
2. ÐŸÐ¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð±Ð°Ð»Ð°Ð½Ñ ($5 Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼, Ñ…Ð²Ð°Ñ‚Ð¸Ñ‚ Ð½Ð° ~500 Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¹)
3. ÐŸÐµÑ€ÐµÐ¹Ð´Ð¸Ñ‚Ðµ Ð² Ñ€Ð°Ð·Ð´ÐµÐ» **Keys**
4. Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ API ÐºÐ»ÑŽÑ‡ Ð¸ Ð²ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Ð² `.env`

**OpenAI API** (ÐžÐŸÐ¦Ð˜ÐžÐÐÐ›Ð¬ÐÐž - Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÐµÑÐ»Ð¸ Ð½ÑƒÐ¶ÐµÐ½ Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ð¾Ð¹ Ð²Ð²Ð¾Ð´):
1. Ð—Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€ÑƒÐ¹Ñ‚ÐµÑÑŒ Ð½Ð° https://platform.openai.com/
2. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ API ÐºÐ»ÑŽÑ‡ Ð² Ñ€Ð°Ð·Ð´ÐµÐ»Ðµ API Keys
3. ÐŸÐ¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð±Ð°Ð»Ð°Ð½Ñ ($5 Ð¼Ð¸Ð½Ð¸Ð¼ÑƒÐ¼)
4. Ð’ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ ÐºÐ»ÑŽÑ‡ Ð² `.env` (Ð¸Ð»Ð¸ Ð¾ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Ð¿ÑƒÑÑ‚Ñ‹Ð¼ Ð´Ð»Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ñ Ñ‚ÐµÐºÑÑ‚Ð¾Ð¼)

### 3. Ð—Ð°Ð¿ÑƒÑÐº Ð±Ð¾Ñ‚Ð°

#### Development Ñ€ÐµÐ¶Ð¸Ð¼ (Ñ Ð°Ð²Ñ‚Ð¾Ð¿ÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¾Ð¹):

```bash
npm run dev
```

#### Production Ñ€ÐµÐ¶Ð¸Ð¼:

```bash
npm start
```

## ðŸ“ Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°

```
swipely-bot/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.js                 # Ð“Ð»Ð°Ð²Ð½Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» Ð±Ð¾Ñ‚Ð°
â”‚   â”œâ”€â”€ handlers/                # ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ¸ ÐºÐ¾Ð¼Ð°Ð½Ð´ (TODO)
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ database.js          # SQLite Ð±Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…
â”‚   â”‚   â”œâ”€â”€ claude.js            # Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ð° Ñ‡ÐµÑ€ÐµÐ· Claude
â”‚   â”‚   â”œâ”€â”€ whisper.js           # Ð¢Ñ€Ð°Ð½ÑÐºÑ€Ð¸Ð±Ð°Ñ†Ð¸Ñ Ð³Ð¾Ð»Ð¾ÑÐ°
â”‚   â”‚   â””â”€â”€ renderer.js          # Ð ÐµÐ½Ð´ÐµÑ€Ð¸Ð½Ð³ HTML â†’ PNG
â”‚   â”œâ”€â”€ templates/
â”‚   â”‚   â”œâ”€â”€ minimal_pop.html     # Ð¨Ð°Ð±Ð»Ð¾Ð½ Minimal Pop
â”‚   â”‚   â”œâ”€â”€ notebook.html        # Ð¨Ð°Ð±Ð»Ð¾Ð½ Notebook (TODO)
â”‚   â”‚   â””â”€â”€ darkest.html         # Ð¨Ð°Ð±Ð»Ð¾Ð½ Darkest Hour (TODO)
â”‚   â””â”€â”€ utils/                   # Ð£Ñ‚Ð¸Ð»Ð¸Ñ‚Ñ‹ (TODO)
â”œâ”€â”€ data/
â”‚   â””â”€â”€ swipely.db               # SQLite Ð‘Ð” (ÑÐ¾Ð·Ð´Ð°ÑÑ‚ÑÑ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸)
â”œâ”€â”€ output/                      # Ð¡Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ
â”œâ”€â”€ temp/                        # Ð’Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹ (Ð³Ð¾Ð»Ð¾Ñ)
â”œâ”€â”€ .env                         # ÐšÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ñ
â””â”€â”€ package.json
```

## ðŸŽ¨ Ð”Ð¸Ð·Ð°Ð¹Ð½-Ð¿Ñ€ÐµÑÐµÑ‚Ñ‹

### 1. Minimal Pop
- Ð¦Ð²ÐµÑ‚Ð°: Ð Ð¾Ð·Ð¾Ð²Ñ‹Ð¹ (#FF0080) + Cyan (#00BCD4) + Ð‘ÐµÐ»Ñ‹Ð¹
- Ð¨Ñ€Ð¸Ñ„Ñ‚Ñ‹: Roboto Light, Inter
- Ð¡Ñ‚Ð¸Ð»ÑŒ: Ð’Ð¾Ð·Ð´ÑƒÑˆÐ½Ñ‹Ð¹ Ð¼Ð¸Ð½Ð¸Ð¼Ð°Ð»Ð¸Ð·Ð¼

### 2. Notebook Sketch
- Ð¦Ð²ÐµÑ‚Ð°: Ð‘ÐµÐ¶ÐµÐ²Ñ‹Ð¹ (#F5E6D3) + ÐžÑ€Ð°Ð½Ð¶ÐµÐ²Ñ‹Ð¹ (#FF5722)
- Ð¤Ð¾Ð½: ÐšÐ»ÐµÑ‚ÐºÐ° ÐºÐ°Ðº Ð² Ñ‚ÐµÑ‚Ñ€Ð°Ð´Ð¸
- Ð¨Ñ€Ð¸Ñ„Ñ‚Ñ‹: Playfair Display, Courier New
- Ð¡Ñ‚Ð¸Ð»ÑŒ: Ð ÑƒÐºÐ¾Ð¿Ð¸ÑÐ½Ñ‹Ðµ Ð·Ð°Ð¼ÐµÑ‚ÐºÐ¸

### 3. Darkest Hour
- Ð¦Ð²ÐµÑ‚Ð°: Ð§ÐµÑ€Ð½Ñ‹Ð¹ (#000000) + ÐžÑ€Ð°Ð½Ð¶ÐµÐ²Ñ‹Ð¹ (#FF5500)
- Ð¨Ñ€Ð¸Ñ„Ñ‚Ñ‹: Playfair Display (serif) + Inter (sans)
- Ð¡Ñ‚Ð¸Ð»ÑŒ: ÐŸÑ€Ð¾Ñ„ÐµÑÑÐ¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ‚ÐµÐ¼Ð½Ñ‹Ð¹

## ðŸ’¾ Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…

SQLite Ð±Ð°Ð·Ð° Ñ Ð´Ð²ÑƒÐ¼Ñ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ð°Ð¼Ð¸:

**users**:
- `user_id` - Telegram ID
- `username` - ÐÐ¸ÐºÐ½ÐµÐ¹Ð¼
- `subscription_tier` - 'free' | 'pro'
- `generation_count` - Ð¡Ñ‡ÐµÑ‚Ñ‡Ð¸Ðº Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¹
- `last_generation_date` - Ð”Ð°Ñ‚Ð° Ð¿Ð¾ÑÐ»ÐµÐ´Ð½ÐµÐ¹ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸
- `tone_guidelines` - JSON Ñ ÑÑ‚Ð¸Ð»ÐµÐ¼ Ñ€ÐµÑ‡Ð¸ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ

**generations**:
- Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¹ Ð´Ð»Ñ ÑÑ‚Ð°Ñ‚Ð¸ÑÑ‚Ð¸ÐºÐ¸

## ðŸ”§ ÐšÐ°Ðº ÑÑ‚Ð¾ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚

### User Flow:

1. ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ Ð¾Ñ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ `/start`
2. Ð’Ñ‹Ð±Ð¸Ñ€Ð°ÐµÑ‚: Ð³Ð¾Ð»Ð¾Ñ Ð¸Ð»Ð¸ Ñ‚ÐµÐºÑÑ‚
3. ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚
4. Ð‘Ð¾Ñ‚ Ñ‚Ñ€Ð°Ð½ÑÐºÑ€Ð¸Ð±Ð¸Ñ€ÑƒÐµÑ‚ Ð³Ð¾Ð»Ð¾Ñ (ÐµÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾)
5. ÐŸÐ¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ Ð²Ñ‹Ð±Ð¾Ñ€ ÑÑ‚Ð¸Ð»Ñ (3 ÐºÐ½Ð¾Ð¿ÐºÐ¸)
6. Ð“ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÑ‚ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚ Ñ‡ÐµÑ€ÐµÐ· Claude
7. Ð ÐµÐ½Ð´ÐµÑ€Ð¸Ñ‚ 8-10 ÑÐ»Ð°Ð¹Ð´Ð¾Ð² Ð² PNG
8. ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ Ð°Ð»ÑŒÐ±Ð¾Ð¼Ð¾Ð¼ Ð² Telegram

### Ð¢ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÑÑ‚ÐµÐº:

- **Telegraf**: Telegram Bot API
- **OpenRouter**: Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ðº Claude 3.5 Haiku
- **OpenAI Whisper**: Ð Ð°ÑÐ¿Ð¾Ð·Ð½Ð°Ð²Ð°Ð½Ð¸Ðµ Ð³Ð¾Ð»Ð¾ÑÐ°
- **Puppeteer**: Ð ÐµÐ½Ð´ÐµÑ€Ð¸Ð½Ð³ HTML â†’ PNG
- **better-sqlite3**: Ð›Ð¾ÐºÐ°Ð»ÑŒÐ½Ð°Ñ Ð‘Ð”
- **axios**: HTTP Ð·Ð°Ð¿Ñ€Ð¾ÑÑ‹

## ðŸ“Š ÐœÐ¾Ð½ÐµÑ‚Ð¸Ð·Ð°Ñ†Ð¸Ñ

### Ð‘ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ñ‹Ð¹ Ñ‚Ð°Ñ€Ð¸Ñ„:
- 5 Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¹ Ð² Ð¼ÐµÑÑÑ†
- Ð’Ð¾Ð´ÑÐ½Ð¾Ð¹ Ð·Ð½Ð°Ðº "Powered by Swipely"
- Ð¡Ñ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ð¾Ðµ ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾

### PRO Ñ‚Ð°Ñ€Ð¸Ñ„ (790â‚½/Ð¼ÐµÑ):
- 50 Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¹ Ð² Ð¼ÐµÑÑÑ†
- Ð‘ÐµÐ· Ð²Ð¾Ð´ÑÐ½Ð¾Ð³Ð¾ Ð·Ð½Ð°ÐºÐ°
- HD ÐºÐ°Ñ‡ÐµÑÑ‚Ð²Ð¾ (1080p)
- Ð£ÑÐºÐ¾Ñ€ÐµÐ½Ð½Ð°Ñ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ
- Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ ÑÑ‚Ð¸Ð»ÐµÐ¹

## ðŸš€ Ð”ÐµÐ¿Ð»Ð¾Ð¹ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€ (VPS)

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 1: PM2 (Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´ÑƒÐµÑ‚ÑÑ)

1. **ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÐµÑÑŒ Ðº VPS Ñ‡ÐµÑ€ÐµÐ· SSH:**
   ```bash
   ssh root@your-server-ip
   ```

2. **Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Node.js 18+:**
   ```bash
   curl -fsSL https://deb.nodesource.com/setup_18.x | sudo -E bash -
   sudo apt-get install -y nodejs
   ```

3. **Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ PM2:**
   ```bash
   sudo npm install -g pm2
   ```

4. **ÐšÐ»Ð¾Ð½Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹:**
   ```bash
   git clone https://github.com/yourusername/swipely-telegram-bot.git
   cd swipely-telegram-bot
   ```

5. **Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸:**
   ```bash
   npm install
   ```

6. **ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ .env:**
   ```bash
   cp .env.example .env
   nano .env
   # Ð’ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Ð²Ð°ÑˆÐ¸ API ÐºÐ»ÑŽÑ‡Ð¸ Ð¸ ÑÐ¾Ñ…Ñ€Ð°Ð½Ð¸Ñ‚Ðµ (Ctrl+X, Y, Enter)
   ```

7. **ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹Ñ‚Ðµ Supabase:**
   - Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ SQL ÑÐºÑ€Ð¸Ð¿Ñ‚ `fix-bot-rls-policies.sql` Ð² Supabase SQL Editor
   - Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ Ñ‡Ñ‚Ð¾ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚Ðµ `service_role` key Ð² .env

8. **Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ Ð±Ð¾Ñ‚Ð° Ñ PM2:**
   ```bash
   pm2 start src/index.js --name swipely-bot
   pm2 save
   pm2 startup
   ```

9. **ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ ÑÑ‚Ð°Ñ‚ÑƒÑ:**
   ```bash
   pm2 status
   pm2 logs swipely-bot
   ```

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 2: systemd service

1. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ systemd unit Ñ„Ð°Ð¹Ð»:
   ```bash
   sudo nano /etc/systemd/system/swipely-bot.service
   ```

2. Ð’ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ:
   ```ini
   [Unit]
   Description=Swipely Telegram Bot
   After=network.target

   [Service]
   Type=simple
   User=root
   WorkingDirectory=/root/swipely-telegram-bot
   ExecStart=/usr/bin/node src/index.js
   Restart=always
   RestartSec=10
   Environment=NODE_ENV=production

   [Install]
   WantedBy=multi-user.target
   ```

3. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ ÑÐµÑ€Ð²Ð¸Ñ:
   ```bash
   sudo systemctl daemon-reload
   sudo systemctl enable swipely-bot
   sudo systemctl start swipely-bot
   sudo systemctl status swipely-bot
   ```

### Ð’Ð°Ñ€Ð¸Ð°Ð½Ñ‚ 3: Docker (ÐµÑÐ»Ð¸ ÐµÑÑ‚ÑŒ Docker Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ)

1. Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Dockerfile (ÑƒÐ¶Ðµ Ð² Ð¿Ñ€Ð¾ÐµÐºÑ‚Ðµ)
2. Ð¡Ð¾Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¾Ð±Ñ€Ð°Ð·:
   ```bash
   docker build -t swipely-bot .
   ```
3. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ðµ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€:
   ```bash
   docker run -d --name swipely-bot --env-file .env swipely-bot
   ```

### ÐœÐ¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³

**PM2:**
```bash
pm2 logs swipely-bot       # Ð›Ð¾Ð³Ð¸ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸
pm2 status                 # Ð¡Ñ‚Ð°Ñ‚ÑƒÑ Ð²ÑÐµÑ… Ð¿Ñ€Ð¾Ñ†ÐµÑÑÐ¾Ð²
pm2 restart swipely-bot    # ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº
pm2 stop swipely-bot       # ÐžÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°
```

**systemd:**
```bash
sudo journalctl -u swipely-bot -f    # Ð›Ð¾Ð³Ð¸ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸
sudo systemctl status swipely-bot    # Ð¡Ñ‚Ð°Ñ‚ÑƒÑ
sudo systemctl restart swipely-bot   # ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº
```

### ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ

```bash
cd swipely-telegram-bot
git pull
npm install
pm2 restart swipely-bot
# Ð¸Ð»Ð¸: sudo systemctl restart swipely-bot
```

## ðŸ› Troubleshooting

### ÐžÑˆÐ¸Ð±ÐºÐ°: "OPENROUTER_API_KEY Ð½Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½"
ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ñ‡Ñ‚Ð¾ Ð² `.env` ÑƒÐºÐ°Ð·Ð°Ð½ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡.

### ÐžÑˆÐ¸Ð±ÐºÐ°: "ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ñ€Ð°ÑÐ¿Ð¾Ð·Ð½Ð°Ñ‚ÑŒ Ð³Ð¾Ð»Ð¾Ñ"
ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ñ‡Ñ‚Ð¾ OpenAI API ÐºÐ»ÑŽÑ‡ Ð²ÐµÑ€Ð½Ñ‹Ð¹ Ð¸ ÐµÑÑ‚ÑŒ Ð±Ð°Ð»Ð°Ð½Ñ.

### Puppeteer Ð½Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ
Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ Ð·Ð°Ð²Ð¸ÑÐ¸Ð¼Ð¾ÑÑ‚Ð¸:
```bash
# macOS
brew install chromium

# Linux (Ubuntu/Debian)
sudo apt-get install -y chromium-browser
```

### Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð½Ðµ ÑÐ¾Ð·Ð´Ð°ÐµÑ‚ÑÑ
Ð£Ð±ÐµÐ´Ð¸Ñ‚ÐµÑÑŒ Ñ‡Ñ‚Ð¾ Ð¿Ð°Ð¿ÐºÐ° `data/` ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚:
```bash
mkdir -p data
```

## ðŸ“ TODO (Next Steps)

- [ ] Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ ÑˆÐ°Ð±Ð»Ð¾Ð½Ñ‹ Notebook Ð¸ Darkest Hour
- [ ] Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ tone of voice Ð°Ð½Ð°Ð»Ð¸Ð·
- [ ] Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¿Ð»Ð°Ñ‚ÐµÐ¶Ð½ÑƒÑŽ ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ
- [ ] Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð²Ð¾Ð´ÑÐ½Ñ‹Ðµ Ð·Ð½Ð°ÐºÐ¸ Ð´Ð»Ñ free Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹
- [ ] Ð ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ½Ð¾Ð¿ÐºÑƒ "Ð ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ"
- [ ] Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ñ€ÐµÑ„ÐµÑ€Ð°Ð»ÑŒÐ½ÑƒÑŽ ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ
- [ ] Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð°Ð´Ð¼Ð¸Ð½-Ð¿Ð°Ð½ÐµÐ»ÑŒ

## ðŸ“ž ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°

ÐŸÐ¾ Ð²Ð¾Ð¿Ñ€Ð¾ÑÐ°Ð¼: Telegram @lvmn_creator

## ðŸ“„ Ð›Ð¸Ñ†ÐµÐ½Ð·Ð¸Ñ

MIT
>>>>>>> 83d5edb2578f017a5ef51ca6701b564f94c2e80b
