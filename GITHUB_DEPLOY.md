# –î–µ–ø–ª–æ–π Swipely Telegram Bot –Ω–∞ GitHub –∏ —Å–µ—Ä–≤–µ—Ä

## ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ

- ‚úÖ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
- ‚úÖ –ü–µ—Ä–≤—ã–π –∫–æ–º–º–∏—Ç —Å–æ–∑–¥–∞–Ω (31 —Ñ–∞–π–ª, 4181 —Å—Ç—Ä–æ–∫–∞)
- ‚úÖ .env –∏—Å–∫–ª—é—á–µ–Ω –∏–∑ git (.gitignore —Ä–∞–±–æ—Ç–∞–µ—Ç)
- ‚úÖ .env.example —Å–æ–∑–¥–∞–Ω –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- ‚úÖ README.md –æ–±–Ω–æ–≤–ª–µ–Ω —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –ø–æ –¥–µ–ø–ª–æ—é
- ‚úÖ Dockerfile –∏ docker-compose.yml —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ ecosystem.config.js –¥–ª—è PM2 —Å–æ–∑–¥–∞–Ω
- ‚úÖ SQL —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è Supabase –≥–æ—Ç–æ–≤—ã

## üöÄ –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub

1. –û—Ç–∫—Ä–æ–π—Ç–µ GitHub: https://github.com/new

2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - **Repository name:** `swipely-telegram-bot`
   - **Description:** `AI-powered Instagram carousel generator bot for Telegram using Claude 3.5 Haiku`
   - **Visibility:** Public –∏–ª–∏ Private (–Ω–∞ –≤–∞—à –≤—ã–±–æ—Ä)
   - ‚ùå **–ù–ï** –æ—Ç–º–µ—á–∞–π—Ç–µ "Add a README file"
   - ‚ùå **–ù–ï** –≤—ã–±–∏—Ä–∞–π—Ç–µ .gitignore (—É–∂–µ –µ—Å—Ç—å)
   - ‚ùå **–ù–ï** –≤—ã–±–∏—Ä–∞–π—Ç–µ License (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ)

3. –ù–∞–∂–º–∏—Ç–µ **"Create repository"**

4. GitHub –ø–æ–∫–∞–∂–µ—Ç –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—É—à–∞ - —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ URL —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: `git@github.com:yourusername/swipely-telegram-bot.git`)

## üöÄ –®–∞–≥ 2: –ü–æ–¥–∫–ª—é—á–∏—Ç—å GitHub remote –∏ –∑–∞–ø—É—à–∏—Ç—å

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```bash
cd "/Users/lvmn/Desktop/ai projects /swipely /swipely-bot"

# –î–æ–±–∞–≤–∏—Ç—å remote
git remote add origin git@github.com:–í–ê–®–ï_–ò–ú–Ø/swipely-telegram-bot.git

# –ó–∞–ø—É—à–∏—Ç—å –≤ GitHub
git push -u origin main
```

**–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ HTTPS (–Ω–µ SSH):**
```bash
git remote add origin https://github.com/–í–ê–®–ï_–ò–ú–Ø/swipely-telegram-bot.git
git push -u origin main
```

**–ï—Å–ª–∏ –ø–æ—è–≤–∏—Ç—Å—è –æ—à–∏–±–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Personal Access Token –≤–º–µ—Å—Ç–æ –ø–∞—Ä–æ–ª—è
- –°–æ–∑–¥–∞–π—Ç–µ —Ç–æ–∫–µ–Ω: https://github.com/settings/tokens
- –í—ã–±–µ—Ä–∏—Ç–µ: `repo` (Full control of private repositories)
- –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–º–µ—Å—Ç–æ –ø–∞—Ä–æ–ª—è

## üéØ –®–∞–≥ 3: –î–µ–ø–ª–æ–π –Ω–∞ VPS

### –í–∞—Ä–∏–∞–Ω—Ç A: –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π —Å PM2 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ù–∞ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone https://github.com/–í–ê–®–ï_–ò–ú–Ø/swipely-telegram-bot.git
cd swipely-telegram-bot

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# 3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env
cp .env.example .env
nano .env
# –í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à–∏ API –∫–ª—é—á–∏:
# - TELEGRAM_BOT_TOKEN
# - OPENROUTER_API_KEY
# - SUPABASE_URL –∏ SUPABASE_ANON_KEY (service_role key!)

# 4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Supabase
# - –û—Ç–∫—Ä–æ–π—Ç–µ Supabase SQL Editor
# - –í—ã–ø–æ–ª–Ω–∏—Ç–µ fix-bot-rls-policies.sql

# 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å PM2 (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
sudo npm install -g pm2

# 6. –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞
pm2 start ecosystem.config.js
pm2 save
pm2 startup

# 7. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
pm2 status
pm2 logs swipely-bot
```

### –í–∞—Ä–∏–∞–Ω—Ç B: Docker Compose (–µ—â–µ –ø—Ä–æ—â–µ)

```bash
# 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å
git clone https://github.com/–í–ê–®–ï_–ò–ú–Ø/swipely-telegram-bot.git
cd swipely-telegram-bot

# 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å .env
cp .env.example .env
nano .env

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose up -d

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker-compose logs -f
```

### –í–∞—Ä–∏–∞–Ω—Ç C: systemd (–¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö)

–°–º. –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –≤ README.md, —Ä–∞–∑–¥–µ–ª "–î–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä (VPS)"

## üìã –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

### –õ–æ–∫–∞–ª—å–Ω–æ (—É–∂–µ —Å–¥–µ–ª–∞–Ω–æ ‚úÖ):
- [x] .env –∏—Å–∫–ª—é—á–µ–Ω –∏–∑ git
- [x] .env.example —Å–æ–∑–¥–∞–Ω
- [x] README.md –æ–±–Ω–æ–≤–ª–µ–Ω
- [x] Dockerfile –∏ docker-compose.yml —Å–æ–∑–¥–∞–Ω—ã
- [x] Git –∫–æ–º–º–∏—Ç —Å–æ–∑–¥–∞–Ω

### –ù–∞ GitHub (–Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å):
- [ ] –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–∑–¥–∞–Ω
- [ ] –ö–æ–¥ –∑–∞–ø—É—à–µ–Ω
- [ ] README –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (–Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å):
- [ ] Node.js 18+ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] Git —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω
- [ ] .env –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏
- [ ] Supabase SQL —Å–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω
- [ ] –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω (PM2 / Docker / systemd)
- [ ] –õ–æ–≥–∏ –ø—Ä–æ–≤–µ—Ä–µ–Ω—ã - –Ω–µ—Ç –æ—à–∏–±–æ–∫
- [ ] –ë–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –≤ Telegram

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–í–ê–ñ–ù–û:**
- ‚úÖ `.env` –≤ .gitignore - –ù–ï –∫–æ–º–º–∏—Ç–∏—Ç—Å—è
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `service_role` –∫–ª—é—á Supabase (–Ω–µ anon)
- ‚úÖ –ù–∞ production –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –¥–ª—è –≤—Å–µ—Ö API
- ‚úÖ –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `npm update`
- ‚ùå –ù–ò–ö–û–ì–î–ê –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ —Ç–æ–∫–µ–Ω—ã –≤ git
- ‚ùå –ù–ï –ø—É–±–ª–∏–∫—É–π—Ç–µ service_role –∫–ª—é—á –ø—É–±–ª–∏—á–Ω–æ

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   ```bash
   pm2 logs swipely-bot
   # –∏–ª–∏
   docker-compose logs -f
   ```

2. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ /start –±–æ—Ç—É –≤ Telegram**

3. **–°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é –∫–∞—Ä—É—Å–µ–ª—å:**
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç: "5 —Å–ø–æ—Å–æ–±–æ–≤ —É–≤–µ–ª–∏—á–∏—Ç—å –ø—Ä–æ–¥–∞–∂–∏"
   - –í—ã–±–µ—Ä–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–∞–π–¥–æ–≤: 5
   - –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∏–ª—å: Minimal Pop
   - –î–æ–∂–¥–∏—Ç–µ—Å—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (~15-20 —Å–µ–∫)

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Supabase:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ Table Editor ‚Üí `user_messages`
   - –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∑–∞–ø–∏—Å—å —Å –≤–∞—à–∏–º —Å–æ–æ–±—â–µ–Ω–∏–µ–º
   - –û—Ç–∫—Ä–æ–π—Ç–µ Table Editor ‚Üí `usage_tracking`
   - –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∑–∞–ø–∏—Å—å —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### PM2:
```bash
pm2 status                 # –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
pm2 logs swipely-bot       # –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
pm2 restart swipely-bot    # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
pm2 monit                  # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```

### Docker:
```bash
docker-compose ps          # –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose logs -f     # –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker-compose restart     # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker stats               # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–æ—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ö–æ–≥–¥–∞ –≤—ã –æ–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ –∏ –∑–∞–ø—É—à–∏—Ç–µ –≤ GitHub:

```bash
cd swipely-telegram-bot
git pull
npm install
pm2 restart swipely-bot
# –∏–ª–∏: docker-compose up -d --build
```

## üÜò Troubleshooting

### –û—à–∏–±–∫–∞: Permission denied (publickey)
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –≤–º–µ—Å—Ç–æ SSH –∏–ª–∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ SSH –∫–ª—é—á–∏:
```bash
git remote set-url origin https://github.com/–í–ê–®–ï_–ò–ú–Ø/swipely-telegram-bot.git
```

### –û—à–∏–±–∫–∞: npm install fails
–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Node.js –≤–µ—Ä—Å–∏–∏ 18+:
```bash
node --version
```

### –ë–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –≤ Telegram
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `pm2 logs swipely-bot`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env - –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ª–∏ —Ç–æ–∫–µ–Ω
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω: `pm2 status`

### –û—à–∏–±–∫–∞: permission denied for table user_messages
–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç `fix-bot-rls-policies.sql` –≤ Supabase

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- GitHub Issues: https://github.com/–í–ê–®–ï_–ò–ú–Ø/swipely-telegram-bot/issues
- Telegram: @lvmn_creator

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è –±–æ—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å 24/7 –Ω–∞ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ!

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ (PM2 –∏–ª–∏ –≤–Ω–µ—à–Ω–∏–π —Å–µ—Ä–≤–∏—Å)
3. –î–æ–±–∞–≤—å—Ç–µ –ø–ª–∞—Ç–µ–∂–Ω—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é (YooKassa)
4. –†–µ–∞–ª–∏–∑—É–π—Ç–µ watermarks –¥–ª—è free users
5. –°–æ–∑–¥–∞–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

---

**–£—Å–ø–µ—Ö–æ–≤ —Å –∑–∞–ø—É—Å–∫–æ–º!** üöÄ
